{"version":3,"sources":["webpack://mesto/webpack/bootstrap","webpack://mesto/webpack/runtime/publicPath","webpack://mesto/./src/scripts/components/FormValidator.js","webpack://mesto/./src/scripts/components/Section.js","webpack://mesto/./src/scripts/components/Card.js","webpack://mesto/./src/scripts/components/UserInfo.js","webpack://mesto/./src/scripts/components/Popup.js","webpack://mesto/./src/scripts/components/PopupWithForm.js","webpack://mesto/./src/scripts/components/PopupWithImage.js","webpack://mesto/./src/scripts/utils/constants.js","webpack://mesto/./src/pages/index.js"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","p","FormValidator","popupElements","popupForm","this","_form","_formSelector","formSelector","_inputSelector","inputSelector","_submitButtonSelector","submitButtonSelector","_inputErrorClass","inputErrorClass","_inputError","inputError","_errorClass","errorClass","_inputs","Array","from","querySelectorAll","_errors","_button","setAttribute","classList","add","_hasInvalidInput","_disableSubmitButton","removeAttribute","remove","some","inputElement","validity","valid","element","_element","_errorElement","querySelector","id","_hideError","_showError","textContent","validationMessage","forEach","error","input","_toggleSubmit","addEventListener","_isValid","_setEventListeners","evt","preventDefault","Section","containerSelector","renderer","_renderer","_container","items","item","prepend","Card","data","cardSelector","handleCardClick","_data","_cardSelector","_handleCardClick","_getTemplate","_likeButton","_deleteButton","document","content","cloneNode","cardImage","alt","name","src","link","_deleteCard","_likeToggler","toggle","UserInfo","profileName","profileJob","_name","_job","job","userInfo","Popup","popupSelector","_popupSelector","_popupOverlay","_popupCloseButton","_handleEscClose","bind","auxiliaryBlock","createElement","style","width","height","overflowY","visibility","body","appendChild","scrollWidth","offsetWidth","clientWidth","_calcScrollWidth","overflow","borderRight","removeEventListener","key","close","contains","PopupWithForm","formSubmitCallBack","_formSubmitCallBack","_formSubmit","_getInputValues","value","reset","PopupWithImage","_image","_imageSubtitle","image","text","initialCards","reverse","enableValidation","profileEditButton","editProfilePopup","editProfilePopupForm","editProfileNameInput","editProfileJobInput","profileAddButton","addCardPopup","openPicturePopup","elementsList","window","openImagePopup","target","closest","popupWithImage","open","setEventListeners","createCard","createCardElement","section","addItem","editPopup","setUserInfo","addNewCardPopup","placeName","placeLink","editPopupValidation","addPopupValidation","getUserInfo","hideAllErrors"],"mappings":"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","file":"index.js","sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.p = \"\";","//* Класс валидации форм\r\nexport class FormValidator {\r\n  constructor(popupElements, popupForm) {\r\n    this._form = popupForm;\r\n    this._formSelector = popupElements.formSelector;\r\n    this._inputSelector = popupElements.inputSelector;\r\n    this._submitButtonSelector = popupElements.submitButtonSelector;\r\n    this._inputErrorClass = popupElements.inputErrorClass;\r\n    this._inputError = popupElements.inputError;\r\n    this._errorClass = popupElements.errorClass;\r\n    this._inputs = Array.from(this._form.querySelectorAll(this._inputSelector));\r\n    this._errors = Array.from(this._form.querySelectorAll(this._inputError));\r\n  }\r\n\r\n  //* Дизейбл кнопки сабмита\r\n  _disableSubmitButton() {\r\n    this._button.setAttribute(\"disabled\", true);\r\n    this._button.classList.add(\"popup__button_disabled\");\r\n  }\r\n\r\n  //* Переключение состояния кнопки\r\n  _toggleSubmit() {\r\n    if (this._hasInvalidInput()) {\r\n      this._disableSubmitButton();\r\n    } else {\r\n      this._button.removeAttribute(\"disabled\", true);\r\n      this._button.classList.remove(\"popup__button_disabled\");\r\n    }\r\n  }\r\n\r\n  //* Проверка массива инпутов на валидность\r\n  _hasInvalidInput() {\r\n    return this._inputs.some((inputElement) => {\r\n      return !inputElement.validity.valid;\r\n    });\r\n  }\r\n\r\n  //* Проверка элемента формы на валидность\r\n  _isValid(element) {\r\n    this._element = element;\r\n    this._errorElement = this._form.querySelector(`#${this._element.id}-error`);\r\n    !this._element.validity.valid ? this._showError() : this._hideError();\r\n  }\r\n\r\n  //* Отображение сообщения об ошибке\r\n  _showError() {\r\n    this._element.classList.add(this._inputErrorClass);\r\n    this._errorElement.classList.add(this._errorClass);\r\n    this._errorElement.textContent = this._element.validationMessage;\r\n  }\r\n\r\n  //* Скрытие сообщения об ошибке\r\n  _hideError() {\r\n    this._element.classList.remove(this._inputErrorClass);\r\n    this._errorElement.classList.remove(this._errorClass);\r\n    this._errorElement.textContent = \"\";\r\n  }\r\n\r\n  //* Скрытие ошибок и очистка полей\r\n  hideAllErrors() {\r\n    this._errors.forEach((error) => {\r\n      error.classList.remove(this._errorClass);\r\n      error.textContent = \"\";\r\n    });\r\n    this._inputs.forEach((input) => {\r\n      input.classList.remove(this._inputErrorClass);\r\n    });\r\n    this._disableSubmitButton();\r\n  }\r\n\r\n  //* Установка слушателей\r\n  _setEventListeners() {\r\n    this._button = this._form.querySelector(this._submitButtonSelector);\r\n    //* Деактивация кнопки при открытии попапа\r\n    this._toggleSubmit();\r\n    //* Деактивация кнопки после отправки\r\n    this._inputs.forEach((element) => {\r\n      element.addEventListener(\"input\", () => {\r\n        this._isValid(element);\r\n        this._toggleSubmit();\r\n      });\r\n    });\r\n  }\r\n\r\n  //* Валидация форм\r\n  enableValidation() {\r\n    this._setEventListeners();\r\n    this._form.addEventListener(\r\n      \"submit\",\r\n      (evt) => evt.preventDefault(),\r\n      this._toggleSubmit()\r\n    );\r\n  }\r\n}\r\n","//* Класс размещения карточек на странице\r\nexport default class Section {\r\n  constructor({ renderer }, containerSelector) {\r\n    this._renderer = renderer;\r\n    this._container = containerSelector;\r\n  }\r\n\r\n  //* Рендер карточек\r\n  renderer(items) {\r\n    items.forEach((item) => {\r\n      this._renderer(item);\r\n    });\r\n  }\r\n\r\n  //* Добавление карточки\r\n  addItem(element) {\r\n    this._container.prepend(element);\r\n  }\r\n}\r\n","//* Класс карточки\r\nexport class Card {\r\n  constructor(data, cardSelector, handleCardClick) {\r\n    this._data = data;\r\n    this._cardSelector = cardSelector;\r\n    this._handleCardClick = handleCardClick;\r\n    this._element = this._getTemplate();\r\n    this._likeButton = this._element.querySelector(\".elements__like-button\");\r\n    this._deleteButton = this._element.querySelector(\r\n      \".elements__delete-button\"\r\n    );\r\n  }\r\n\r\n  //* Получение шаблона разметки\r\n  _getTemplate() {\r\n    const cardElement = document\r\n      .querySelector(this._cardSelector)\r\n      .content.querySelector(\".elements__list-item\")\r\n      .cloneNode(true);\r\n    return cardElement;\r\n  }\r\n\r\n  //* Создание карточки\r\n  createCardElement() {\r\n    this._setEventListeners();\r\n    const cardImage = this._element.querySelector(\".elements__picture\");\r\n    cardImage.alt = `${this._data.name} by Brent Olson`;\r\n    cardImage.src = this._data.link;\r\n    this._element.querySelector(\r\n      \".elements__text\"\r\n    ).textContent = this._data.name;\r\n\r\n    return this._element;\r\n  }\r\n\r\n  //* Установка слушателей\r\n  _setEventListeners() {\r\n    this._deleteButton.addEventListener(\"click\", () => this._deleteCard());\r\n\r\n    this._likeButton.addEventListener(\"click\", () => this._likeToggler());\r\n\r\n    this._element\r\n      .querySelector(\".elements__picture\")\r\n      .addEventListener(\"click\", this._handleCardClick);\r\n  }\r\n\r\n  //* Переключение состояния лайка\r\n  _likeToggler() {\r\n    this._likeButton.classList.toggle(\"heartbeat\");\r\n    this._likeButton.classList.toggle(\"elements__like-button_active\");\r\n  }\r\n\r\n  //* Удаление карточки\r\n  _deleteCard() {\r\n    this._element.remove();\r\n    this._element = null;\r\n  }\r\n}\r\n","//* Класс с пользовательскими данными\r\nexport default class UserInfo {\r\n  constructor({ profileName, profileJob }) {\r\n    this._name = profileName;\r\n    this._job = profileJob;\r\n  }\r\n\r\n  getUserInfo() {\r\n    const userInfo = {\r\n      name: this._name.textContent,\r\n      job: this._job.textContent,\r\n    };\r\n    return userInfo;\r\n  }\r\n\r\n  setUserInfo(userInfo) {\r\n    this._name.textContent = userInfo.name;\r\n    this._job.textContent = userInfo.job;\r\n  }\r\n}\r\n","//* Родительский класс всех попапов\r\nexport default class Popup {\r\n  constructor(popupSelector) {\r\n    this._popupSelector = popupSelector;\r\n    this._popupOverlay = this._popupSelector.querySelector(\".popup__overlay\");\r\n    this._popupCloseButton = this._popupSelector.querySelector(\r\n      \".popup__close-button\"\r\n    );\r\n    this._handleEscClose = this._handleEscClose.bind(this);\r\n  }\r\n\r\n  //* Расчет ширины вертикального скролла\r\n  //* При открытии попапа блокируется прокрутка страницы и чтобы контент не дергался, странице добавляется граница справа шириной с полосу прокрутки\r\n  _calcScrollWidth() {\r\n    const auxiliaryBlock = document.createElement(\"div\");\r\n    auxiliaryBlock.style.width = \"50px\";\r\n    auxiliaryBlock.style.height = \"50px\";\r\n    auxiliaryBlock.style.overflowY = \"scroll\";\r\n    auxiliaryBlock.style.visibility = \"hidden\";\r\n\r\n    document.body.appendChild(auxiliaryBlock);\r\n    const scrollWidth = auxiliaryBlock.offsetWidth - auxiliaryBlock.clientWidth;\r\n    auxiliaryBlock.remove();\r\n\r\n    return scrollWidth;\r\n  }\r\n\r\n  //* Метод открытия попапа и блокировки скролла страницы\r\n  open() {\r\n    const scrollWidth = this._calcScrollWidth();\r\n    document.addEventListener(\"keyup\", this._handleEscClose);\r\n    this._popupSelector.classList.add(\"popup_opened\");\r\n    document.body.style.overflow = \"hidden\";\r\n\r\n    //* Добавление границы с шириной равной ширине скролла\r\n    document.body.style.borderRight = `${scrollWidth}px solid black`;\r\n  }\r\n\r\n  //* Метод закрытия попапа\r\n  close() {\r\n    document.removeEventListener(\"keyup\", this._handleEscClose);\r\n    this._popupSelector.classList.remove(\"popup_opened\");\r\n    document.body.style.overflow = \"\";\r\n    document.body.style.borderRight = \"none\";\r\n  }\r\n\r\n  //* Метод закрытия на ESC\r\n  _handleEscClose(evt) {\r\n    if (evt.key === \"Escape\") {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  //* Установка слушателей\r\n  setEventListeners() {\r\n    this._popupCloseButton.addEventListener(\"click\", () => {\r\n      this.close();\r\n    });\r\n    this._popupOverlay.addEventListener(\"click\", () => {\r\n      if (this._popupSelector.classList.contains(\"popup_opened\")) {\r\n        this.close();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import Popup from \"./Popup.js\";\r\n\r\n//* Класс попапа с формой\r\nexport default class PopupWithForm extends Popup {\r\n  constructor(popupSelector, { formSubmitCallBack }) {\r\n    super(popupSelector);\r\n    this._formSubmitCallBack = formSubmitCallBack;\r\n    this._formSubmit = this._formSubmit.bind(this);\r\n    this._form = this._popupSelector.querySelector(\".popup__form\");\r\n    this._inputs = Array.from(this._form.querySelectorAll(\".popup__input\"));\r\n  }\r\n\r\n  //* Сабмит формы\r\n  _formSubmit(evt) {\r\n    evt.preventDefault();\r\n    this._formSubmitCallBack(this._getInputValues());\r\n  }\r\n\r\n  //* Метод сбора данных со всех полей формы\r\n  _getInputValues() {\r\n    const data = {};\r\n    this._inputs.forEach((input) => {\r\n      data[input.name] = input.value;\r\n    });\r\n    return data;\r\n  }\r\n\r\n  //* Перезапись родительского метода закрытия попапа\r\n  close() {\r\n    super.close();\r\n    this._form.reset();\r\n  }\r\n\r\n  //* Перезапись родительского метода установки слушателей\r\n  setEventListeners() {\r\n    super.setEventListeners();\r\n    this._form.addEventListener(\"submit\", this._formSubmit);\r\n  }\r\n}\r\n","import Popup from \"./Popup.js\";\r\n\r\n//* Класс попапа с картинкой\r\nexport default class PopupWithImage extends Popup {\r\n  constructor(popupSelector) {\r\n    super(popupSelector);\r\n    this._image = this._popupSelector.querySelector(\".popup__image\");\r\n    this._imageSubtitle = this._popupSelector.querySelector(\r\n      \".popup__image-subtitle\"\r\n    );\r\n  }\r\n\r\n  //* Перезапись родительского метода\r\n  open(data) {\r\n    super.open();\r\n    this._image.src = data.image;\r\n    this._image.alt = data.text;\r\n    this._imageSubtitle.textContent = `${data.text} by Brent Olson 📷`;\r\n  }\r\n}\r\n","//* Импорт изображений для Webpack\r\nimport morning from '../../images/cards/camping.jpg';\r\nimport house from '../../images/cards/house.jpg';\r\nimport syracuse from '../../images/cards/syracuse.jpg';\r\nimport canyon from '../../images/cards/united-states.jpg';\r\nimport mountainsFog from '../../images/cards/mountains.jpg';\r\nimport iceland from '../../images/cards/iceland.jpg';\r\nimport zion from '../../images/cards/zion-national-park.jpg';\r\nimport grandCanyon from '../../images/cards/grandc.jpg';\r\nimport moab from '../../images/cards/moab.jpg';\r\n\r\n\r\n//* Изначальные карточки\r\nexport const сards = [\r\n  {\r\n    name: \"Morning in a tent\",\r\n    link: morning,\r\n  },\r\n  {\r\n    name: \"Lonely house\",\r\n    link: house,\r\n  },\r\n  {\r\n    name: \"Syracuse road, United States\",\r\n    link: syracuse,\r\n  },\r\n  {\r\n    name: \"Canyon, United States\",\r\n    link: canyon,\r\n  },\r\n  {\r\n    name: \"Mountains fog\",\r\n    link: mountainsFog,\r\n  },\r\n  {\r\n    name: \"Iceland\",\r\n    link: iceland,\r\n  },\r\n  {\r\n    name: \"Zion National Park, United States\",\r\n    link: zion,\r\n  },\r\n  {\r\n    name: \"Grand Canyon National Park, United States\",\r\n    link: grandCanyon,\r\n  },\r\n  {\r\n    name: \"Moab, United States\",\r\n    link: moab,\r\n  },\r\n];\r\n\r\n//* Разворачиваем массив с карточками для отображения по порядку через prepend\r\nexport const initialCards = сards.reverse();\r\n\r\n//* Данные для валидации форм\r\nexport const enableValidation = {\r\n  formSelector: \".popup__form\",\r\n  inputSelector: \".popup__input\",\r\n  submitButtonSelector: \".popup__button\",\r\n  inputErrorClass: \"popup__input_type_error\",\r\n  inputError: \".popup__input-error\",\r\n  errorClass: \"popup__input-error_visible\",\r\n};\r\n\r\n//* Основные константы\r\nexport const profileName = document.querySelector(\".profile__name\");\r\nexport const profileJob = document.querySelector(\".profile__job\");\r\n\r\nexport const profileEditButton = document.querySelector(\r\n  \".profile__edit-button\"\r\n);\r\nexport const editProfilePopup = document.querySelector(\"#editProfile\");\r\nexport const editProfilePopupForm = editProfilePopup.querySelector(\r\n  \".popup__form\"\r\n);\r\nexport const editProfileNameInput = editProfilePopupForm.querySelector(\r\n  \"#popup__name-input\"\r\n);\r\nexport const editProfileJobInput = editProfilePopupForm.querySelector(\r\n  \"#popup__job-input\"\r\n);\r\n\r\nexport const profileAddButton = document.querySelector(\".profile__add-button\");\r\nexport const addCardPopup = document.querySelector(\"#addCard\");\r\n\r\nexport const openPicturePopup = document.querySelector(\"#openPicture\");\r\n\r\nexport const elementsList = document.querySelector(\".elements__list\");\r\n","import \"./index.css\";\r\n\r\nimport { FormValidator } from \"../scripts/components/FormValidator.js\";\r\nimport Section from \"../scripts/components/Section.js\";\r\nimport { Card } from \"../scripts/components/Card.js\";\r\nimport UserInfo from \"../scripts/components/UserInfo.js\";\r\nimport PopupWithForm from \"../scripts/components/PopupWithForm.js\";\r\nimport PopupWithImage from \"../scripts/components/PopupWithImage.js\";\r\nimport {\r\n  initialCards as items,\r\n  editProfilePopup,\r\n  profileEditButton,\r\n  profileJob,\r\n  addCardPopup,\r\n  profileName,\r\n  elementsList,\r\n  openPicturePopup,\r\n  editProfileNameInput,\r\n  editProfileJobInput,\r\n  enableValidation,\r\n  profileAddButton,\r\n} from \"../scripts/utils/constants.js\";\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", () => {\r\n  \"use strict\";\r\n\r\n  //* Открытие попапа с фото\r\n  const openImagePopup = (evt) => {\r\n    const data = {\r\n      image: evt.target.src,\r\n      text: evt.target\r\n        .closest(\".elements__list-item\")\r\n        .querySelector(\".elements__text\").textContent,\r\n    };\r\n    popupWithImage.open(data);\r\n  };\r\n\r\n  //* Попап с фото\r\n  const popupWithImage = new PopupWithImage(openPicturePopup);\r\n  popupWithImage.setEventListeners();\r\n\r\n  //* Создание карточки\r\n  const createCard = (data) => {\r\n    const card = new Card(data, \".cardTemplate\", openImagePopup);\r\n    const cardElement = card.createCardElement(data);\r\n    return cardElement;\r\n  };\r\n\r\n  //* Генерация карточек\r\n  const section = new Section(\r\n    {\r\n      renderer: (data) => {\r\n        section.addItem(createCard(data));\r\n      },\r\n    },\r\n    elementsList\r\n  );\r\n  section.renderer(items);\r\n\r\n  //* Попап редактирования профиля\r\n  const userInfo = new UserInfo({ profileName, profileJob });\r\n\r\n  const editPopup = new PopupWithForm(editProfilePopup, {\r\n    formSubmitCallBack: (data) => {\r\n      userInfo.setUserInfo(data);\r\n      editPopup.close();\r\n    },\r\n  });\r\n  editPopup.setEventListeners();\r\n\r\n  //* Попап добавления карточки\r\n  const addNewCardPopup = new PopupWithForm(addCardPopup, {\r\n    formSubmitCallBack: (data) => {\r\n      const item = {\r\n        name: data.placeName,\r\n        link: data.placeLink,\r\n      };\r\n      section.addItem(createCard(item), true);\r\n      addNewCardPopup.close();\r\n    },\r\n  });\r\n  addNewCardPopup.setEventListeners();\r\n\r\n  //* Создание классов валидации\r\n  const editPopupValidation = new FormValidator(\r\n      enableValidation,\r\n      editProfilePopup\r\n    ),\r\n    addPopupValidation = new FormValidator(enableValidation, addCardPopup);\r\n\r\n  //* Активация валидации\r\n  editPopupValidation.enableValidation();\r\n  addPopupValidation.enableValidation();\r\n\r\n  //* Установка слушателей\r\n  profileEditButton.addEventListener(\"click\", () => {\r\n    const data = userInfo.getUserInfo();\r\n    editProfileNameInput.value = data.name;\r\n    editProfileJobInput.value = data.job;\r\n    editPopupValidation.hideAllErrors();\r\n    editPopup.open();\r\n    profileEditButton.blur();\r\n  });\r\n  profileAddButton.addEventListener(\"click\", () => {\r\n    addNewCardPopup.open();\r\n    profileAddButton.blur();\r\n    addPopupValidation.hideAllErrors();\r\n  });\r\n});\r\n"],"sourceRoot":""}